(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{WvYF:function(e,t,a){e.exports={menus:"menus___JPpj2",menusItem:"menusItem___35Ejy"}},bsDN:function(e,t,a){e.exports={menu:"menu___3fMWW",right:"right___2CMz5",action:"action___3ut1O",search:"search___3FPts",account:"account___1r_Ku",avatar:"avatar___1Rx79",dark:"dark___1zu9O"}},maEh:function(e,t,a){"use strict";a.r(t);var n=a("0Owb"),r=a("tJVT"),l=a("k1fw"),c=a("9W6o"),o=a("Hx5s"),u=a("q1tI"),i=a.n(u),s=a("9kvl"),m=a("55Ip"),f=a("oN5p"),p=a("YOho"),b=a("HZnN"),g=(a("miYZ"),a("tsqr")),d=(a("+BJd"),a("mr32")),h=a("WmNS"),v=a.n(h),k=a("9og8"),I=a("bsDN"),y=a.n(I),_=a("qz5Q"),E=function(e){var t=e.theme,a=e.layout,n=e.roleType,r=e.dispatch,l=e.userInfo,c=e.refreshState;y.a.right;return"dark"===t&&"top"===a&&"".concat(y.a.right,"  ").concat(y.a.dark),Object(u["useEffect"])((function(){var e=localStorage.getItem("nickName"),t=localStorage.getItem("role"),a=localStorage.getItem("whiffkgjdf"),n=localStorage.getItem("avatarUrl");e&&r({type:"global/setUserInfo",userInfo:{id:a,nickName:e,role:t,avatarUrl:n}})}),[]),Object(u["useEffect"])((function(){function e(){return t.apply(this,arguments)}function t(){return t=Object(k["a"])(v.a.mark((function e(){var t;return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["a"])("/api/shidi/role");case 2:t=e.sent,r({type:"global/setUserInforole",role:t});case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}l.id&&1==l.role&&e()}),[c]),i.a.createElement("span",null,i.a.createElement(d["a"],{color:"volcano",onClick:function(){r({type:"global/setRefresh"})}},"\u5237\u65b0"),l.nickName?i.a.createElement(i.a.Fragment,null,2==l.role?i.a.createElement("input",{className:"weui-switch",style:{position:"relative",top:"10px"},type:"checkbox",value:!n,onChange:function(){r({type:"global/changeRoleType",roleType:!n})}}):null,i.a.createElement("span",{style:{color:n?"#09331f":"#624",margin:"0 10px 0 5px"}},n?"\u5185\u90e8\u7248":"\u5916\u90e8\u7248"),i.a.createElement(d["a"],{color:"geekblue"},i.a.createElement("a",{onClick:Object(k["a"])(v.a.mark((function e(){return v.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_["a"])("/api/shidi/logout");case 3:g["b"].success("\u9000\u51fa\u6210\u529f"),window.location.reload(),localStorage.setItem("whiffkgjdf",""),localStorage.setItem("vcmbmk",""),localStorage.setItem("lou_fang",""),localStorage.setItem("lou_num",""),localStorage.setItem("lou_qu",""),localStorage.setItem("lou_type",""),localStorage.setItem("nickName",""),localStorage.setItem("avatarUrl",""),localStorage.setItem("type",""),localStorage.setItem("role",""),r({type:"global/changeRoleType",roleType:!1}),r({type:"global/setUserInfo",userInfo:{}}),e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))},"\u9000\u51fa"))):i.a.createElement(d["a"],{color:"geekblue"},i.a.createElement(m["a"],{to:"/account"},"\u767b\u5f55\u6ce8\u518c")))},w=Object(s["a"])((function(e){var t=e.global,a=e.settings;return{roleType:t.roleType,theme:a.navTheme,layout:a.layout,userInfo:t.userInfo,refreshState:t.refreshState}}))(E),j=a("tkAB"),O=a.n(j),S=a("1oaW"),T=(a("v++Q"),a("WvYF")),x=a.n(T),N=(a("BUDJ"),a("eDds"),function e(t){return t.map((function(t){var a=Object(l["a"])(Object(l["a"])({},t),{},{children:t.children?e(t.children):void 0});return b["a"].check(t.authority,a,null)}))}),C=function(e,t){return i.a.createElement("div",null,i.a.createElement(c["a"],{style:{top:"-35px",position:"relative"},copyright:"\u8054\u7cfb\u5f00\u53d1\u6768\u96f716601046650\u540c\u5fae\u4fe1",links:[{key:"\u5b9a\u5236\u5f00\u53d1\u5408\u4f5c",title:"\u5b9a\u5236\u5f00\u53d1\u5408\u4f5c",blankTarget:!0},{key:"github",title:i.a.createElement(f["a"],null),blankTarget:!0},{key:"\u5efa\u8bae\u4f18\u5316",title:"\u5efa\u8bae\u4f18\u5316",blankTarget:!0},{key:"github",title:i.a.createElement(p["a"],null),blankTarget:!0},{key:"\u5728\u7ebf\u7b54\u7591",title:"\u5728\u7ebf\u7b54\u7591",blankTarget:!0}]}),i.a.createElement("div",{className:x.a.menus},i.a.createElement(S["Tab"],null,i.a.createElement(S["TabBar"],null,i.a.createElement(S["TabBarItem"],{active:0==e,onClick:function(e){return t("/")},className:x.a.menusItem,label:"\u9996\u9875"}),i.a.createElement(S["TabBarItem"],{active:2==e,onClick:function(e){return t("/list")},className:x.a.menusItem,label:"\u90bb\u5c45\u5708"}),i.a.createElement(S["TabBarItem"],{onClick:function(e){location.href="http://mp.weixin.qq.com/s?__biz=Mzg3NTU3Nzg3OQ==&mid=100000024&idx=1&sn=4f1853306524cfce5e89ea9e81eead73&chksm=4f3e166078499f76ccc1294a96b379fcf5f74d86c2e03db6a7db6f64b197048c110576f5a5fe#rd"},className:x.a.menusItem,label:"\u4ecb\u7ecd\u548c\u5173\u6ce8"}),i.a.createElement(S["TabBarItem"],{active:1==e,onClick:function(e){return t("/push")},className:x.a.menusItem,label:"\u53d1\u5e03"}),i.a.createElement(S["TabBarItem"],{active:3==e,onClick:function(e){return t("/account")},className:x.a.menusItem,label:"\u6211\u7684"})))))},B=function(e){var t=e.dispatch,a=e.children,l=e.settings,c=e.location,f=void 0===c?{pathname:"/"}:c,p=Object(u["useRef"])([]),b=function(e){t&&t({type:"global/changeLayoutCollapsed",payload:e})},g=Object(u["useState"])(0),d=Object(r["a"])(g,2),h=d[0],v=d[1];return Object(u["useEffect"])((function(){v({"/push":1,"/":0,"/list":2,"/account":3}[f.pathname])}),[f.pathname]),i.a.createElement(o["a"],Object(n["a"])({logo:O.a,onCollapse:b,onMenuHeaderClick:function(){return s["b"].push("/")},itemRender:function(e,t,a,n){var r=0===a.indexOf(e);return r?i.a.createElement(m["a"],{to:n.join("/")},e.breadcrumbName):i.a.createElement("span",null,e.breadcrumbName)},footerRender:function(){return C(h,(function(e){return s["b"].push(e)}))},menuDataRender:N,rightContentRender:function(){return i.a.createElement(w,null)},postMenuData:function(e){return p.current=e||[],e||[]}},e,l),a)};t["default"]=Object(s["a"])((function(e){var t=e.global,a=e.settings;return{collapsed:t.collapsed,settings:a}}))(B)},qz5Q:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("WmNS"),r=a.n(n),l=(a("miYZ"),a("tsqr")),c=a("9og8"),o=a("vDqi"),u=a.n(o),i=function(e,t){return new Promise(function(){var a=Object(c["a"])(r.a.mark((function a(n,c){var o,i,s,m;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.post(e,t,{headers:{headeri:localStorage.getItem("whiffkgjdf")||"0000",headert:localStorage.getItem("vcmbmk")||"0000"}});case 3:i=a.sent,1===(null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.state)?n((null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.data)||{}):(l["b"].error((null===i||void 0===i||null===(m=i.data)||void 0===m?void 0:m.msg)||"\u8bf7\u786e\u8ba4\u8d26\u6237\u5bc6\u7801\uff0c\u65b0\u7528\u6237\u8bf7\u5148\u6ce8\u518c\u8d26\u6237"),c()),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),c();case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}())}},tkAB:function(e,t,a){e.exports=a.p+"static/logo.5e8304ce.jpg"}}]);